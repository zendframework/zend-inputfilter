<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="zend-inputfilter">  
    <link rel="canonical" href="https://docs.zendframework.com/zend-inputfilter/intro/">
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>Introduction - zend-inputfilter - Zend Framework Docs</title>

    <link rel="stylesheet" href="../css/styles-5cfabd53ee.css">
</head>
<body id="page-top">

    
    <div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">

            
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-tooltip data-placement="bottom" title="Go to the ZF homepage">
                    <img src="../img/zend-framework-logo.svg" height="28" alt="Zend Framework">
                </a>
            </span>
        </div>

        <div class="navbar-collapse collapse">

            
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://framework.zend.com/about">About</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/downloads">Install</a>
                </li>
                <li class="active">
                    <a href="https://docs.zendframework.com">Documentation</a>
                </li>
                <li>
                    <a href="https://www.zend.com/en/services/training">Training</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/blog">Blog</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/participate">Participate</a>
                </li>
            </ul>

            
            
                <div class="nav navbar-nav navbar-collapse visible-xs-block ">
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="..">zend-inputfilter</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item subnavigation__list-item--active">
                                <a href="./" class="subnavigation__link">Introduction</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Reference</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../specs/" class="subnavigation__link">Specifications</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../file-input/" class="subnavigation__link">Files</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../optional-input-filters/" class="subnavigation__link">Optional Input Filters</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../unfiltered-data/" class="subnavigation__link">Unfiltered Data</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            
        </ul>
    </div>

                </div>
            

            
            <div class="nav navbar-nav navbar-collapse visible-xs-block">
                <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</div>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-xs-8">
                <h1 class="header__title">
                    Documentation

                    
                        <small class="header__subtitle">zend-inputfilter</small>
                    
                </h1>
            </div>

            
            <div class="col-xs-4 text-right">
                
                    

                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/zendframework/zend-inputfilter/" class="header__link header__link--github" title="Go to repository of zend-inputfilter">
                        <i class="fa fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="laminas-announcement">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                Zend Framework transitions to the Linux Foundation. <a href="https://getlaminas.org">Learn More.</a>
            </div>
        </div>
    </div>
</div>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-xs-12 content" role="main">
            <!-- content:begin -->
                
                    <ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
    <li><a href="https://framework.zend.com/">Home</a></li>

    
        <li><a href="https://docs.zendframework.com/">Documentation</a></li>

        
            <li><a href="..">zend-inputfilter</a></li>

            

            <li class="active">Introduction</li>
        
    
</ol>






    
    

    <div>
        
    

    
    

    </div>

    <h1 id="introduction">Introduction</h1>
<p>zend-inputfilter can be used to filter and validate generic sets of input data.
For instance, you could use it to filter <code>$_GET</code> or <code>$_POST</code> values, CLI
arguments, etc.</p>
<p>To pass input data to the <code>InputFilter</code>, use the <code>setData()</code> method; the data
must be specified using an associative array. Below is an example on how to
validate the data coming from a form using the POST method.</p>
<pre class="codehilite"><code class="language-php">use Zend\InputFilter\InputFilter;
use Zend\InputFilter\Input;
use Zend\Validator;

$email = new Input('email');
$email-&gt;getValidatorChain()
      -&gt;attach(new Validator\EmailAddress());

$password = new Input('password');
$password-&gt;getValidatorChain()
         -&gt;attach(new Validator\StringLength(8));

$inputFilter = new InputFilter();
$inputFilter-&gt;add($email);
$inputFilter-&gt;add($password);
$inputFilter-&gt;setData($_POST);

if ($inputFilter-&gt;isValid()) {
    echo "The form is valid\n";
} else {
    echo "The form is not valid\n";
    foreach ($inputFilter-&gt;getInvalidInput() as $error) {
        print_r($error-&gt;getMessages());
    }
}</code></pre>

<p>In this example, we validated the email and password values. The email must be a
valid address and the password must be composed of at least 8 characters. If the
input data are not valid, we report the list of invalid input using the
<code>getInvalidInput()</code> method.</p>
<p>You can add validators to each input using the <code>attach()</code> method for each
validator chain. It is also possible to specify a "validation group", a subset
of the data to be validated; this may be done using the <code>setValidationGroup()</code>
method. You can specify the list of the input names as an array or as individual
parameters.</p>
<pre class="codehilite"><code class="language-php">// As individual parameters
$inputFilter-&gt;setValidationGroup('email', 'password');

// or as an array of names
$inputFilter-&gt;setValidationGroup(['email', 'password']);</code></pre>

<p>You can validate and/or filter the data using the <code>InputFilter</code>. To filter data,
use the <code>getFilterChain()</code> method of individual <code>Input</code> instances, and attach
filters to the returned filter chain. Below is an example that uses filtering
without validation.</p>
<pre class="codehilite"><code class="language-php">use Zend\InputFilter\Input;
use Zend\InputFilter\InputFilter;

$input = new Input('foo');
$input-&gt;getFilterChain()
      -&gt;attachByName('stringtrim')
      -&gt;attachByName('alpha');

$inputFilter = new InputFilter();
$inputFilter-&gt;add($input);
$inputFilter-&gt;setData([
    'foo' =&gt; ' Bar3 ',
]);

echo "Before:\n";
echo $inputFilter-&gt;getRawValue('foo') . "\n"; // the output is ' Bar3 '
echo "After:\n";
echo $inputFilter-&gt;getValue('foo') . "\n";    // the output is 'Bar'</code></pre>

<p>The <code>getValue()</code> method returns the filtered value of the 'foo' input, while
<code>getRawValue()</code> returns the original value of the input.</p>
<p>We also provide <code>Zend\InputFilter\Factory</code> to allow initialization of the
<code>InputFilter</code> based on a configuration array or <code>Traversable</code> object. Below is
an example where we create a password input value with the same constraints
proposed before (a string with at least 8 characters):</p>
<pre class="codehilite"><code class="language-php">use Zend\InputFilter\Factory;

$factory = new Factory();
$inputFilter = $factory-&gt;createInputFilter([
    'password' =&gt; [
        'name'       =&gt; 'password',
        'required'   =&gt; true,
        'validators' =&gt; [
            [
                'name' =&gt; 'not_empty',
            ],
            [
                'name' =&gt; 'string_length',
                'options' =&gt; [
                    'min' =&gt; 8
                ],
            ],
        ],
    ],
]);

$inputFilter-&gt;setData($_POST);
echo $inputFilter-&gt;isValid() ? 'Valid form' : 'Invalid form';</code></pre>

<p>The factory may be used to create not only <code>Input</code> instances, but also nested
<code>InputFilter</code>s, allowing you to create validation and filtering rules for
hierarchical data sets.</p>
<p>Finally, the default <code>InputFilter</code> implementation is backed by a <code>Factory</code>. This
means that when calling <code>add()</code>, you can provide a specification that the
<code>Factory</code> understands, and it will create the appropriate object. You may
create either <code>Input</code> or <code>InputFilter</code> objects in this fashion.</p>
<pre class="codehilite"><code class="language-php">use Zend\InputFilter\InputFilter;

$filter = new InputFilter();

// Adding a single input
$filter-&gt;add([
    'name' =&gt; 'username',
    'required' =&gt; true,
    'validators' =&gt; [
        [
            'name' =&gt; 'not_empty',
        ],
        [
            'name' =&gt; 'string_length',
            'options' =&gt; [
                'min' =&gt; 5
            ],
        ],
    ],
]);

// Adding another input filter what also contains a single input. Merging both.
$filter-&gt;add([
    'type' =&gt; 'Zend\InputFilter\InputFilter',
    'password' =&gt; [
        'name' =&gt; 'password',
        'required' =&gt; true,
        'validators' =&gt; [
            [
                'name' =&gt; 'not_empty',
            ],
            [
                'name' =&gt; 'string_length',
                'options' =&gt; [
                    'min' =&gt; 8
                ],
            ],
        ],
    ],
]);</code></pre>

<p>The <code>merge()</code> method may be used on an <code>InputFilterInterface</code> instance in order
to add two or more filters to each other, effectively allowing you to create
chains of filters. This is especially useful in object hierarchies that define a
generic set of validation rules on the base object and build on these to create
more specific rules.</p>
<p>In the example below, an <code>InputFilter</code> is built creating name and email
properties, allowing them to be re-used elsewhere. When the <code>isValid()</code> method
is called on the object, all of the merged filters are run against the calling
object in order to validate the internal properties based on our compound set of
filters.</p>
<pre class="codehilite"><code class="language-php">use Zend\InputFilter\InputFilter;

/**
 * Filter to ensure a name property is set and &gt; 8 characters
 */
class NameInputFilter extends InputFilter
{
    /** Filter body goes here **/
}

/**
 * Filter to ensure an email property is set and &gt; 8 characters and is valid
 */
class EmailInputFilter extends InputFilter
{
    /** Filter body goes here **/
}

class SimplePerson
{
    /** Member variables omitted for brevity **/

    /** @var InputFilter */
    protected $inputFilter;

    /**
     * Retrieve input filter
     *
     * @return InputFilter
     */
    public function getInputFilter()
    {
        if (! $this-&gt;inputFilter) {
            // Create a new input filter
            $this-&gt;inputFilter = new InputFilter();

            // Merge our inputFilter in for the email property
            $this-&gt;inputFilter-&gt;merge(new EmailInputFilter());

            // Merge our inputFilter in for the name property
            $this-&gt;inputFilter-&gt;merge(new NameInputFilter());
        }

        return $this-&gt;inputFilter;
    }

    /**
     * Set input filter
     *
     * @param  InputFilterInterface $inputFilter
     * @return SimplePerson
     */
    public function setInputFilter(InputFilterInterface $inputFilter)
    {
        $this-&gt;inputFilter = $inputFilter;

        return $this;
    }
}</code></pre>

<p>Also see</p>
<ul>
<li><a href="https://docs.zendframework.com/zend-filter/">zend-filter</a></li>
<li><a href="https://docs.zendframework.com/zend-validator/">zend-validator</a></li>
</ul>




    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="..">
                    <i class="fa fa-chevron-left"></i> Previous
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="../specs/">
                    Next <i class="fa fa-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>




    <div class="help-wanted">
        <p>
            Found a mistake or want to contribute to the documentation?
            <a href="https://github.com/zendframework/zend-inputfilter/edit/master/docs/intro.md" target="_blank" class="help-wanted__link">
                Edit this page on GitHub!
            </a>
        </p>
    </div>

                
            <!-- content:end -->
            </div>
            <div class="col-md-3 col-xs-12 sidebar">
                
                    <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="..">zend-inputfilter</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item subnavigation__list-item--active">
                                <a href="./" class="subnavigation__link">Introduction</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Reference</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../specs/" class="subnavigation__link">Specifications</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../file-input/" class="subnavigation__link">Files</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../optional-input-filters/" class="subnavigation__link">Optional Input Filters</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../unfiltered-data/" class="subnavigation__link">Unfiltered Data</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            
        </ul>
    </div>

                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <h5>Zend Framework</h5>
                <ul>
                    <li><a href="https://framework.zend.com/">framework.zend.com</a></li>
                    <li><a href="https://docs.zendframework.com">docs.zendframework.com</a></li>
                    <li><a href="https://packages.zendframework.com">packages.zendframework.com</a></li>
                    <li><a href="https://apigility.org">apigility.org</a></li>
                    <li><a href="https://getexpressive.org/">getexpressive.org</a></li>
                </ul>
            </div>
        </div>

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">

            
            <div class="col-md-9">
                <h4 class="footer__headline">Copyright</h4>
                <p>&copy; 2006-2019 by <a href="https://www.zend.com/">Zend</a>, a <a href="https://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            
            <div class="col-md-3">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.zendframework.com" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://zendframework-slack.herokuapp.com" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/zendframework" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/zfdevteam" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://tinyletter.com/mwopzend" class="support__link" title="Newsletter"><i class="fa fa-envelope"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/blog/feed-rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

    <script>
        var base_url = '..',
            siteName = 'zend-inputfilter';
    </script>
    <script src="../js/scripts-8d7ae56abf.js"></script>
        <script src="../search/main.js"></script>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>



</body>


</html>
